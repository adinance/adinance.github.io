 // wowslider initialization
(function(){function m(b){var d={};"anim-type hidecontrols theme fullscreen timeout autoplay duration paddingtop paddingbottom showbullets height width responsive showcaptions captionseffect".split(" ").map(function(a){d[a]=b.attr("data-"+a)});return d}$(document).on("add.cards change.cards",function(b){if($(b.target).hasClass("mbr-wowslider-container")){$(b.target).find(".mbr-wowslider-options").css("display","none");var d=$(b.target).closest("html").hasClass("is-builder"),a={},a=m($(b.target).find(".params")),
e=$(b.target).find(".mbr-wowslider");"false"==a.showbullets&&$(b.target).find(".ws_bullets").css("display","none");var g=!1;"true"!=a.autoplay||d||(g=!0);var h=!1;"true"==a.showcaptions&&(h=!0);var f=!1;if("boundary"==a.theme||"dodgy"==a.theme)f=[],$(".ws_bullets img").each(function(a,b){f.push($(this).attr("src"))});"utter"==a.theme&&(f=[],$(".ws_images img").each(function(a,b){f.push($(this).attr("src"))}));e.css({"padding-top":1.5*+a.paddingtop+"rem","padding-bottom":1.5*+a.paddingbottom+"rem"});
var k=0,n="ws_"+a["anim-type"],p=setInterval(function(){k++;if(10<k||window[n])clearInterval(p),$(b.target).find(".mbr-wowslider").wowSlider({effect:a["anim-type"],prev:"",next:"",duration:1E3*+a.duration,delay:1E3*+a.timeout,width:+a.width,height:+a.height,autoPlay:g,autoPlayVideo:!1,playPause:!0,stopOnHover:!1,loop:!1,bullets:1,caption:h,captionEffect:a.captionseffect,onStep:function(a){e.attr("data-cur-slide",a)},controls:!0,controlsThumb:f,responsive:+a.responsive,fullScreen:!1,gestures:2,onBeforeStep:0,
images:0})},100),c=$(b.target).attr("id"),l="style-"+c;$("head").find("#"+l).remove();text='<style id="'+l+'">';1==a.responsive&&(text+="#"+c+" .mbr-wowslider.boxed{max-width:"+a.width+"px;max-height:"+a.height+"px;margin:0 auto} \n",e.addClass("boxed"));2==a.responsive&&(text+="#"+c+" .mbr-wowslider.full-width{max-height:"+a.height+"px !important} \n",text+="#"+c+" .mbr-wowslider.full-width .ws_images>div>img{max-height:"+a.height+"px !important} \n",e.addClass("full-width"));"true"==a.hidecontrols&&
(text+="#"+c+" .mbr-wowslider a.ws_next, #"+c+" a.ws_prev, #"+c+" .ws_playpause{display: none} \n",text+="#"+c+" .mbr-wowslider:hover a.ws_next, #"+c+" .mbr-wowslider:hover a.ws_prev, #"+c+"  .mbr-wowslider:hover .ws_playpause{display: block} \n");text+="</style>";$("head").append(text);d&&(e.css("cursor","pointer"),$(".ws_cover").on("click",function(){$(b.target).closest(".app-component").find(".component-params").click()}))}});$(function(){function b(b){return!1}setTimeout(function(){$(".ui-sortable").on("click",
".ws_controls > .ws_next",b);$(".ui-sortable").on("click",".ws_controls > .ws_prev",b)},0)});$(document).on("sortstop",function(b){$(b.target).closest("#edit-component-params").find('select[name="animType"]').trigger("change")})})();
